process Test = {
# output level
  include "FWCore/MessageLogger/data/MessageLogger.cfi"
  replace MessageLogger.cerr.FwkReport.reportEvery = 100

# input file(s)
  include "TopAnalysis/Configuration/data/SourceInput.cff"
  include "TopAnalysis/Configuration/test/topSemiLepMuonSkim.cff"
  untracked PSet maxEvents = {untracked int32 input = 1000}

# TQAF Layer 1 TopObject production
  include "TopQuarkAnalysis/TopObjectProducers/data/TQAFLayer1.cff"
  sequence tqaf = {tqafLayer1}

# add event weight
  include "TopAnalysis/TopUtils/data/EventWeight.cfi"
  sequence wght = {makeWeights} 

# filter special processes
  include "TopAnalysis/TopUtils/data/CSA07ProcessIdFilter.cfi"
# replace  csa07Processes.csa07Ids = {  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10 } # incl w+jets (chowder)
# replace  csa07Processes.csa07Ids = { 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21 } # incl z+jets (chowder)
  replace  csa07Processes.csa07Ids = { 22, 23, 24, 25, 26 }                         # incl top    (chowder)
# replace  csa07Processes.csa07Ids = { 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 
#                                      39, 40, 41, 42, 43, 44, 45, 46, 47 }         # incl qcd    (gumbo)
  sequence proc = {csa07Processes}

# analyze semileptonic ttbar events with muons
  include "TopAnalysis/TopFilter/data/filterSequences/diLepMuMuSelection_pre.cff"  
# include "TopAnalysis/TopFilter/data/filterSequences/diLepMuMuSelection_fin.cff"  
  sequence cutflow = {diMuMu_muonSelection, diMuMu_jetsSelection}  

# file service
  service = TFileService {
    string fileName = "analyzeDiLeptonicEvents.root"
  }
  endpath p = {tqaf, wght, cutflow}
}
