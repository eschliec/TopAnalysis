process Test = {
# output level
  include "FWCore/MessageLogger/data/MessageLogger.cfi"
  replace MessageLogger.cerr.FwkReport.reportEvery = 100

# input file(s)
  include "TopAnalysis/Configuration/data/SourceInput.cff"
  include "TopAnalysis/Configuration/test/topSemiLepMuonSkim.cff"
  untracked PSet maxEvents = {untracked int32 input = 100}

# produces genParticles
 #include "PhysicsTools/HepMCCandAlgos/data/genParticleCandidates2GenParticles.cfi"
 #path p0 = {genParticles}

# TQAF Layer 1 TopObject production
  include "TopQuarkAnalysis/TopObjectProducers/data/TQAFLayer1.cff"
  path p1 = {tqafLayer1}

# TQAF Layer 2 TopEvent production
  include "TopQuarkAnalysis/TopEventProducers/data/TQAFLayer2_TtSemi.cff"
  replace ttSemiLeptonicFilter.channel_1 = {0,1,0}
 #path p1a = {tqafLayer2_TtSemi_SemiLepFilter}

# add event weight
  include "TopAnalysis/TopUtils/data/EventWeight.cfi"

# analyze semileptonic ttbar events with muons
  include "TopAnalysis/TopFilter/test/selectSemiLeptonicEvents_muon.cff"  

# file service
  service = TFileService {
    string fileName = "analyzeSemiLeptonicEvents_test.root"
  }

# full selection chain (cutflow) / 
# analyze jets after full muon selection
  endpath p2 = {makeWeights, muonSelection, jetSelection}
}
