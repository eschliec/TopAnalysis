process Test = {
# output level
  include "FWCore/MessageLogger/data/MessageLogger.cfi"
  replace MessageLogger.cerr.FwkReport.reportEvery = 100

# input file(s)
  include "TopAnalysis/Configuration/data/SourceInput.cff"
  untracked PSet maxEvents = {untracked int32 input = 10000}

# add event weight
  include "TopAnalysis/TopUtils/data/EventWeight.cfi"
  sequence wght = {makeWeights} 

# analyze semileptonic ttbar events with muons
  include "TopAnalysis/TopFilter/data/filterSequences/semiLepMuonSelection_cutflow.cff"  
  sequence cutflow = {makeSemiReference, makeSemiMuonSelection, makeSemiJetsSelection}  

# output selection
  block EventSelection = {
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "cutflow" }
    }
  }

  module out = PoolOutputModule 
  { 
    untracked string fileName = "SemiLepMuonEvents.root" 
    using EventSelection

  }

# file service
  service = TFileService {
    string fileName = "analyzeSemiLepMuonEvents_cutflow_ttbar.root"
  }

  endpath p = {wght, cutflow}
# endpath p = {wght, cutflow, out}
}
