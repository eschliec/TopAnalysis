process Test = 
{
# configuer MessageLogger
  include "FWCore/MessageLogger/data/MessageLogger.cfi"
  replace MessageLogger.cerr.threshold = "INFO"
  //service = MessageLogger {untracked vstring categories = { "Test" }}
  replace MessageLogger.cerr.FwkReport.reportEvery = 1000

 # input file(s)
  source = PoolSource {
    untracked vstring fileNames = {
      "file: USE A CSA07 CHowder SAMPLE"
    }
  }
  untracked PSet maxEvents = {untracked int32 input = -1}

 include "TopAnalysis/Configuration/test/csa07AllEventsSkim_QCDMu.cff"
 
 #cuts
  include "TopAnalysis/TopFilter/data/semiLepMuonSelection_fin.cff"
  
  replace SemiJetsPtCut.minPt = {20,20,20,20}
  replace SemiMuonPtCut.minPt = {20}
  
  #muon within tracker acceptance
  replace SemiMuonEtaCut.minEta = {-2.1}
  replace SemiMuonEtaCut.maxEta = {2.1}
  
  #include "TopAnalysis/TopUtils/data/EventWeight.cfi"
  #replace eventWeight.overallLumi = 50
  include "TopAnalysis/TopUtils/data/EventWeightPlain.cfi"
  replace eventWeight.eff = 0.00028
  replace eventWeight.xsec  = 819900000. #pb-1
  replace eventWeight.nevts = 2037232  
  replace eventWeight.lumi = 50
  
module looseSelection = semiLepMuonEvent from "TopAnalysis/TopFilter/data/combinedFilters/SemiLepMuonEventFilter.cfi"
  replace looseSelection.useTrkIso = false
  replace looseSelection.useCalIso = false
  replace looseSelection.useJetIso = false  

## std sequence for ttGenEvent
  include "TopQuarkAnalysis/TopEventProducers/data/TtGenEvtProducer.cff"

## configure mva computer
  include "TopAnalysis/TopFilter/data/TtSemiLepSignalSelectorMVAComputer_Muons.cff"
 
 path p1 = {makeWeights & makeGenEvt}  
  path p2 = {looseSelection, findTtSemiLepSignalSelectorMVA}

  # define the event content
  block myEventContent = {
    untracked vstring outputCommands = {
      "drop *"
      ,"keep double_*_DiscSel_*"
    }
  }
  
  # the actual output module
  module out = PoolOutputModule {
    untracked string fileName = "Lkh_output"
    using myEventContent
    untracked bool verbose = false
  }

  endpath outpath = { out }
}
