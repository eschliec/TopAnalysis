process Test = 
{
# configuer MessageLogger
  include "FWCore/MessageLogger/data/MessageLogger.cfi"
  replace MessageLogger.cerr.threshold = "INFO"
  //service = MessageLogger {untracked vstring categories = { "Test" }}
  replace MessageLogger.cerr.FwkReport.reportEvery = 1000

# input file(s)
  source = PoolSource {
    untracked vstring fileNames = {
      "file:USE A CSA07 CHOWDER SAMPLE!"
    }
  }
  untracked PSet maxEvents = {untracked int32 input = 5000}
 
 include "TopAnalysis/Configuration/test/csa07AllEventsSkim_Ttbar.cff"

#-------------------------------------------------
# tqaf configuration
#-------------------------------------------------


#cuts
  include "TopAnalysis/TopFilter/data/semiLepMuonSelection_fin.cff"
  
  replace SemiJetsPtCut.minPt = {20,20,20,20}
  replace SemiMuonPtCut.minPt = {20}
  #muon within tracker acceptance
  replace SemiMuonEtaCut.minEta = {-2.1}
  replace SemiMuonEtaCut.maxEta = {2.1}
 include "TopAnalysis/TopUtils/data/EventWeight.cfi"
 replace csa07Event.overallLumi = 50

## std sequence for ttGenEvent
  include "TopQuarkAnalysis/TopEventProducers/data/TtGenEvtProducer.cff"

## configure mva trainer
  include "TopAnalysis/TopFilter/data/TtSemiLepSignalSelectorMVATrainer_Muons.cff"

## make trainer looper known to the process
looper = TtSemiLepSignalSelectorMVATrainerLooper {
    VPSet trainers = {
      {
        string calibrationRecord = "ttSemiLepSignalSelectorMVA"
        untracked string trainDescription = "TopAnalysis/TopFilter/data/TtSemiLepSignalSelectorMVATrainer_Muons.xml"
        untracked bool loadState = false
        untracked bool saveState = true
        untracked bool monitoring= true
      }
    }
  }
  
#-------------------------------------------------
# process paths;
#-------------------------------------------------

path p1 = {makeWeights & makeGenEvt}
path p2 = {makeMVATraining}
}
